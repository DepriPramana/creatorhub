import{r as a,j as e}from"./index-lNSI4P6R.js";import{g as ue,a as ge,s as xe,c as he,f as pe}from"./geminiService-Ym5kw0UC.js";import{M as O}from"./MagicWandIcon-BuWUG2wQ.js";import{C as be}from"./ClipboardIcon-DPRFuPhy.js";import{C as fe,V as je}from"./VideoCameraIcon-BSXEI5Rb.js";import{D as ve}from"./DownloadIcon-DAuI1SJ0.js";const Z=({title:n,prompt:u,isLoading:d,isMarkdown:D=!1})=>{const[b,v]=a.useState(!1),k=()=>{navigator.clipboard.writeText(u),v(!0),setTimeout(()=>v(!1),2e3)},S=C=>C.split(`
`).map((f,j)=>{const g=`line-${j}`;if(f.trim()==="")return e.jsx("div",{className:"h-2"},g);const p=w=>w.split(/(\*\*.*?\*\*)/g).map((x,F)=>x.startsWith("**")&&x.endsWith("**")?e.jsx("strong",{children:x.slice(2,-2)},`${g}-b-${F}`):x);if(f.trim().startsWith("* ")){const w=f.trim().substring(2);return e.jsxs("div",{className:"flex items-start pl-4",children:[e.jsx("span",{className:"mr-2 mt-1",children:" •"}),e.jsx("span",{children:p(w)})]},g)}return e.jsx("p",{className:"mb-1",children:p(f)},g)});return e.jsxs("div",{className:"bg-slate-900/70 rounded-lg border border-slate-700",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-700",children:[e.jsx("h4",{className:"text-lg font-semibold text-white",children:n}),u&&!d&&e.jsxs("button",{onClick:k,className:"flex items-center gap-2 text-sm text-slate-300 hover:text-cyan-400 transition-colors","aria-label":`Copy ${n}`,children:[e.jsx(be,{className:"w-5 h-5"}),e.jsx("span",{children:b?"Disalin!":"Salin"})]})]}),e.jsx("div",{className:"p-4 min-h-[150px]",children:d?e.jsxs("div",{className:"space-y-3 animate-pulse",children:[e.jsx("div",{className:"h-4 bg-slate-700 rounded w-3/4"}),e.jsx("div",{className:"h-4 bg-slate-700 rounded w-full"}),e.jsx("div",{className:"h-4 bg-slate-700 rounded w-5/6"}),e.jsx("div",{className:"h-4 bg-slate-700 rounded w-1/2"})]}):u?D?e.jsx("div",{className:"text-slate-300 font-sans text-sm",children:S(u)}):e.jsx("p",{className:"text-slate-300 whitespace-pre-wrap break-words font-sans text-sm",children:u}):e.jsx("p",{className:"text-slate-500 italic",children:"Prompt yang dihasilkan akan muncul di sini."})})]})},W=["Chibi Style Cartoon","Photorealistic","Digital Painting","Concept Art","3D Render","Anime / Manga","Pixel Art","Watercolor","Vector Art","Low Poly","Cyberpunk","Steampunk","Fantasy Art","Synthwave","Minimalist","Custom"],ee=[{id:"imagen-4.0-generate-preview-06-06",name:"Imagen 4 (Preview)"},{id:"imagen-4.0-ultra-generate-preview-06-06",name:"Imagen 4 Ultra (Preview)"},{id:"imagen-3.0-generate-002",name:"Imagen 3.0 002 model"}],te=[{id:"veo-3.0-generate-preview",name:"VEO 3.0 (Preview)"},{id:"veo-2.0-generate-001",name:"VEO 2.0"}],Ie=()=>{const[n,u]=a.useState("text"),[d,D]=a.useState("A chibi-style girl walking happily with headphones on a sunny street."),[b,v]=a.useState(null),[k,S]=a.useState(null),[C,f]=a.useState(W[0]),[j,g]=a.useState(W[0]),[p,w]=a.useState("1:1"),[x,F]=a.useState("15"),[H,se]=a.useState(te[0].id),[T,ae]=a.useState(ee[2].id),[I,z]=a.useState(""),[M,B]=a.useState(""),[r,_]=a.useState(!1),[q,c]=a.useState(null),[m,R]=a.useState(null),[P,J]=a.useState(!1),[y,V]=a.useState(null),[E,G]=a.useState(!1),[le,N]=a.useState(""),[ne,L]=a.useState(!1),A=a.useRef(null);a.useEffect(()=>()=>{y&&URL.revokeObjectURL(y)},[y]);const re=t=>{const s=t.target.value;f(s),g(s==="Custom"?"":s)},K=t=>{if(t&&t[0]){const s=t[0];v(s);const l=new FileReader;l.onloadend=()=>{S(l.result)},l.readAsDataURL(s)}},ie=()=>{v(null),S(null),A.current&&(A.current.value="")},oe=a.useCallback(async()=>{if(n==="text"&&!d.trim()){c("Harap masukkan konsep untuk menghasilkan prompt.");return}if(n==="image"&&!b){c("Silakan unggah file gambar.");return}if(!j.trim()){c("Harap tentukan Gaya Seni kustom atau pilih salah satu dari daftar.");return}_(!0),c(null),z(""),B(""),R(null),V(null);const t={concept:n==="text"?d:"",file:n==="image"?b:void 0,style:j,aspectRatio:p,duration:x};try{const s=await ue(t);z(s.imagePrompt),B(s.videoPrompt)}catch(s){const l=s instanceof Error?s.message:"Terjadi kesalahan yang tidak diketahui.";c(l),console.error(s)}finally{_(!1)}},[d,b,n,j,p,x]),Q=async()=>{if(I){J(!0),R(null),V(null),c(null);try{const t=await ge(I,p,T);R(t)}catch(t){const s=t instanceof Error?t.message:"Terjadi kesalahan yang tidak diketahui.";c(s)}finally{J(!1)}}},de=a.useCallback(()=>{if(!m)return;const t=document.createElement("a");t.href=`data:image/jpeg;base64,${m}`;const l=d.replace(/[^a-z0-9\s]/gi,"").substring(0,30).trim().replace(/\s+/g,"_")||"ai_generated_image";t.download=`${l}.jpeg`,document.body.appendChild(t),t.click(),document.body.removeChild(t)},[m,d]),ce=async()=>{if(!M||!m)return;G(!0),V(null),c(null);const t=["Warming up the video engine...","Conceptualizing the motion...","Compositing scenes, this can take a few minutes...","Applying digital cinematography...","Adding special effects and filters...","Rendering the final frames...","Finalizing render, almost there!"];let s=0;N(t[s]);try{let l=await xe(M,m,H);const h=async()=>{try{const i=await he(l);if(l=i,i.done){const o=i.response?.generatedVideos?.[0]?.video?.uri;if(o){N("Video generated! Downloading...");const $=await pe(o),me=URL.createObjectURL($);V(me),N(""),G(!1)}else{const $=i.error?`API Error: ${JSON.stringify(i.error)}`:"No URI found in the final response.";throw new Error(`Video generation completed but failed. ${$}`)}}else s=(s+1)%t.length,N(t[s]),setTimeout(h,1e4)}catch(i){const o=i instanceof Error?i.message:"An error occurred while checking video status.";c(o),G(!1),N("")}};setTimeout(h,1e4)}catch(l){const h=l instanceof Error?l.message:"Failed to start video generation.";c(h),G(!1)}},U=(t,s,l,h,i)=>e.jsxs("div",{children:[e.jsx("label",{htmlFor:t,className:"block text-sm font-medium text-slate-300 mb-2",children:s}),e.jsx("select",{id:t,value:l,onChange:h,disabled:r,className:"w-full p-2 bg-slate-900 border border-slate-600 rounded-md text-slate-200 focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition-all duration-300",children:i.map(o=>e.jsx("option",{value:o,children:o},o))})]}),X=(t,s,l,h,i)=>e.jsxs("div",{children:[e.jsx("label",{htmlFor:t,className:"block text-sm font-medium text-slate-300 mb-2",children:s}),e.jsx("select",{id:t,value:l,onChange:h,disabled:r,className:"w-full p-2 bg-slate-900 border border-slate-600 rounded-md text-slate-200 focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition-all duration-300",children:i.map(o=>e.jsx("option",{value:o.id,children:o.name},o.id))})]}),Y=()=>e.jsx("div",{className:"flex justify-center items-center h-full",children:e.jsxs("svg",{className:"animate-spin h-8 w-8 text-cyan-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})});return e.jsx("div",{className:"container mx-auto py-12 px-4",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("div",{className:"inline-flex items-center justify-center bg-slate-800 p-3 rounded-full mb-4 border border-slate-700",children:e.jsx(O,{className:"w-8 h-8 text-cyan-400"})}),e.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-white",children:"AI Prompt Generator"}),e.jsx("p",{className:"mt-4 text-lg text-slate-400 max-w-3xl mx-auto",children:"Ubah ide sederhana atau gambar Anda menjadi prompt yang sangat detail untuk model AI generatif."})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-xl border border-slate-700 shadow-2xl shadow-slate-900/50",children:[e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"1. Pilih Sumber Anda"}),e.jsx("div",{className:"flex justify-center mb-6",children:e.jsxs("div",{className:"bg-slate-900 p-1 rounded-lg flex gap-1",children:[e.jsx("button",{onClick:()=>u("text"),disabled:r,className:`px-6 py-2 rounded-md text-sm font-semibold transition-colors ${n==="text"?"bg-cyan-500 text-white":"text-slate-300 hover:bg-slate-700"}`,children:"Dari Teks"}),e.jsx("button",{onClick:()=>u("image"),disabled:r,className:`px-6 py-2 rounded-md text-sm font-semibold transition-colors ${n==="image"?"bg-cyan-500 text-white":"text-slate-300 hover:bg-slate-700"}`,children:"Dari Gambar"})]})}),n==="text"?e.jsxs("div",{children:[e.jsx("label",{htmlFor:"concept-input",className:"block text-sm font-medium text-slate-300 mb-2",children:"Jelaskan Konsep Anda"}),e.jsx("textarea",{id:"concept-input",value:d,onChange:t=>D(t.target.value),placeholder:"Contoh: Seekor naga emas terbang di atas pegunungan yang tertutup salju saat matahari terbenam",className:"w-full h-28 p-4 bg-slate-900 border border-slate-600 rounded-md text-slate-200 font-sans focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition-all duration-300 resize-y",disabled:r,"aria-label":"Deskripsi konsep"})]}):e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Unggah Gambar"}),e.jsxs("div",{className:`flex flex-col items-center justify-center p-6 border-2 border-dashed rounded-lg transition-colors ${ne?"border-cyan-400 bg-slate-700/50":"border-slate-600"}`,onDragEnter:()=>L(!0),onDragLeave:()=>L(!1),onDragOver:t=>t.preventDefault(),onDrop:t=>{t.preventDefault(),L(!1),K(t.dataTransfer.files)},children:[e.jsx("input",{ref:A,type:"file",accept:"image/*",className:"hidden",onChange:t=>K(t.target.files)}),k?e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:k,alt:"Image preview",className:"max-h-40 rounded-lg"}),e.jsx("button",{onClick:ie,className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full h-6 w-6 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity","aria-label":"Remove image",children:"×"})]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-slate-500 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l-1.586-1.586a2 2 0 010-2.828L14 8"})}),e.jsx("p",{className:"text-slate-400 mb-2",children:"Letakkan atau Pilih File"}),e.jsx("button",{onClick:()=>A.current?.click(),className:"bg-cyan-500 text-white font-semibold py-2 px-4 rounded-md hover:bg-cyan-600 transition-colors",children:"Telusuri File"})]})]})]}),e.jsx("h3",{className:"text-xl font-bold text-white mt-6 mb-4",children:"2. Sesuaikan Opsi Anda"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[U("styleSelect","Gaya Seni",C,re,W),U("aspectRatioSelect","Rasio Aspek Gambar",p,t=>w(t.target.value),["1:1","16:9","9:16","4:3","3:4"]),X("imageModelSelect","Model Gambar",T,t=>ae(t.target.value),ee),U("durationSelect","Durasi Video (detik)",x,t=>F(t.target.value),["5","10","15","30","60"]),X("veoModelSelect","Model Video",H,t=>se(t.target.value),te)]}),C==="Custom"&&e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{htmlFor:"customStyleInput",className:"block text-sm font-medium text-slate-300 mb-2",children:"Gaya Seni Kustom"}),e.jsx("input",{type:"text",id:"customStyleInput",value:j,onChange:t=>g(t.target.value),disabled:r,className:"w-full p-2 bg-slate-900 border border-slate-600 rounded-md text-slate-200 focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition-all duration-300",placeholder:"misalnya: Psychedelic, Vaporwave, dll."})]})]}),e.jsx("div",{className:"p-6 border-t border-slate-700",children:e.jsx("button",{onClick:oe,disabled:r||n==="text"&&!d.trim()||n==="image"&&!b,className:"w-full flex items-center justify-center gap-3 bg-cyan-500 text-white font-semibold py-3 px-6 rounded-md hover:bg-cyan-600 transition-colors duration-300 disabled:bg-slate-600 disabled:cursor-not-allowed shadow-lg shadow-cyan-500/20 disabled:shadow-none text-lg",children:r?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("span",{children:"Menghasilkan..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(O,{className:"w-6 h-6"}),e.jsx("span",{children:"Hasilkan Prompt"})]})})})]}),e.jsxs("div",{className:"mt-8",children:[q&&!r&&e.jsx("div",{role:"alert",className:"bg-red-500/20 border border-red-500 text-red-300 p-4 rounded-md mb-6",children:q}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsx(Z,{title:"Prompt Gambar",prompt:I,isLoading:r}),e.jsx(Z,{title:"Prompt Video",prompt:M,isLoading:r,isMarkdown:!0})]})]}),I&&M&&!r&&e.jsx("div",{className:"mt-8 bg-slate-800/50 rounded-xl border border-slate-700 shadow-2xl shadow-slate-900/50",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"3. Hasilkan Media"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 items-start",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-lg font-semibold text-white",children:"Gambar"}),!m&&!P&&e.jsxs("button",{onClick:Q,disabled:P,className:"w-full flex items-center justify-center gap-2 bg-indigo-500 text-white font-semibold py-2 px-4 rounded-md hover:bg-indigo-600 transition-colors disabled:bg-slate-600",children:[e.jsx(fe,{className:"w-5 h-5"}),"Hasilkan Gambar"]}),e.jsx("div",{className:"aspect-square bg-slate-900/70 rounded-lg flex items-center justify-center border border-slate-700",children:P?e.jsx(Y,{}):m?e.jsx("img",{src:`data:image/jpeg;base64,${m}`,alt:"Generated by AI",className:"rounded-lg w-full h-full object-contain"}):e.jsx("p",{className:"text-slate-500 italic",children:"Gambar yang dihasilkan akan muncul di sini."})}),m&&!P&&e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("button",{onClick:Q,className:"w-full flex items-center justify-center gap-2 bg-indigo-500 text-white font-semibold py-2 px-4 rounded-md hover:bg-indigo-600 transition-colors",children:[e.jsx(O,{className:"w-5 h-5"}),e.jsx("span",{children:"Hasilkan Ulang"})]}),e.jsxs("button",{onClick:de,className:"w-full flex items-center justify-center gap-2 bg-green-600 text-white font-semibold py-2 px-4 rounded-md hover:bg-green-700 transition-colors",children:[e.jsx(ve,{className:"w-5 h-5"}),e.jsx("span",{children:"Unduh Gambar"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-lg font-semibold text-white",children:"Video"}),m&&!E&&e.jsxs("button",{onClick:ce,disabled:E,className:"w-full flex items-center justify-center gap-2 bg-rose-500 text-white font-semibold py-2 px-4 rounded-md hover:bg-rose-600 transition-colors disabled:bg-slate-600",children:[e.jsx(je,{className:"w-5 h-5"}),"Hasilkan Video"]}),e.jsx("div",{className:"aspect-square bg-slate-900/70 rounded-lg flex items-center justify-center border border-slate-700",children:E?e.jsxs("div",{className:"text-center p-4",children:[e.jsx(Y,{}),e.jsx("p",{className:"text-slate-300 mt-4 text-sm",children:le})]}):y?e.jsx("video",{src:y,controls:!0,className:"rounded-lg w-full h-full object-contain"}):e.jsx("p",{className:"text-slate-500 italic",children:"Video yang dihasilkan akan muncul di sini."})})]})]})]})})]})})};export{Ie as default};
