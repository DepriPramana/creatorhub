import{r as s,j as e}from"./index-_-j5jzP3.js";import{g as O}from"./geminiService-CBq_7m4G.js";import{M as R}from"./MagicWandIcon-BbwRBdgL.js";import{C as z}from"./ClipboardIcon-BP3_i0J-.js";const G=({title:l,prompt:n,isLoading:i,isMarkdown:w=!1})=>{const[m,p]=s.useState(!1),j=()=>{navigator.clipboard.writeText(n),p(!0),setTimeout(()=>p(!1),2e3)},f=y=>y.split(`
`).map((u,x)=>{const o=`line-${x}`;if(u.trim()==="")return e.jsx("div",{className:"h-2"},o);const h=g=>g.split(/(\*\*.*?\*\*)/g).map((c,N)=>c.startsWith("**")&&c.endsWith("**")?e.jsx("strong",{children:c.slice(2,-2)},`${o}-b-${N}`):c);if(u.trim().startsWith("* ")){const g=u.trim().substring(2);return e.jsxs("div",{className:"flex items-start pl-4",children:[e.jsx("span",{className:"mr-2 mt-1",children:" •"}),e.jsx("span",{children:h(g)})]},o)}return e.jsx("p",{className:"mb-1",children:h(u)},o)});return e.jsxs("div",{className:"bg-slate-900/70 rounded-lg border border-slate-700",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-700",children:[e.jsx("h4",{className:"text-lg font-semibold text-white",children:l}),n&&!i&&e.jsxs("button",{onClick:j,className:"flex items-center gap-2 text-sm text-slate-300 hover:text-cyan-400 transition-colors","aria-label":`Copy ${l}`,children:[e.jsx(z,{className:"w-5 h-5"}),e.jsx("span",{children:m?"Disalin!":"Salin"})]})]}),e.jsx("div",{className:"p-4 min-h-[150px]",children:i?e.jsxs("div",{className:"space-y-3 animate-pulse",children:[e.jsx("div",{className:"h-4 bg-slate-700 rounded w-3/4"}),e.jsx("div",{className:"h-4 bg-slate-700 rounded w-full"}),e.jsx("div",{className:"h-4 bg-slate-700 rounded w-5/6"}),e.jsx("div",{className:"h-4 bg-slate-700 rounded w-1/2"})]}):n?w?e.jsx("div",{className:"text-slate-300 font-sans text-sm",children:f(n)}):e.jsx("p",{className:"text-slate-300 whitespace-pre-wrap break-words font-sans text-sm",children:n}):e.jsx("p",{className:"text-slate-500 italic",children:"Prompt yang dihasilkan akan muncul di sini."})})]})},P=["Chibi Style Cartoon","Photorealistic","Digital Painting","Concept Art","3D Render","Anime / Manga","Pixel Art","Watercolor","Vector Art","Low Poly","Cyberpunk","Steampunk","Fantasy Art","Synthwave","Minimalist","Custom"],Q=()=>{const[l,n]=s.useState("text"),[i,w]=s.useState("A chibi-style girl walking happily with headphones on a sunny street."),[m,p]=s.useState(null),[j,f]=s.useState(null),[y,u]=s.useState(P[0]),[x,o]=s.useState(P[0]),[h,g]=s.useState("1:1"),[c,N]=s.useState("15"),[L,D]=s.useState(""),[W,A]=s.useState(""),[r,F]=s.useState(!1),[I,b]=s.useState(null),[$,k]=s.useState(!1),v=s.useRef(null),T=t=>{const a=t.target.value;u(a),o(a==="Custom"?"":a)},M=t=>{if(t&&t[0]){const a=t[0];p(a);const d=new FileReader;d.onloadend=()=>{f(d.result)},d.readAsDataURL(a)}},V=()=>{p(null),f(null),v.current&&(v.current.value="")},E=s.useCallback(async()=>{if(l==="text"&&!i.trim()){b("Harap masukkan konsep untuk menghasilkan prompt.");return}if(l==="image"&&!m){b("Silakan unggah file gambar.");return}if(!x.trim()){b("Harap tentukan Gaya Seni kustom atau pilih salah satu dari daftar.");return}F(!0),b(null),D(""),A("");const t={concept:l==="text"?i:"",file:l==="image"?m:void 0,style:x,aspectRatio:h,duration:c};try{const a=await O(t);D(a.imagePrompt),A(a.videoPrompt)}catch(a){const d=a instanceof Error?a.message:"Terjadi kesalahan yang tidak diketahui.";b(d),console.error(a)}finally{F(!1)}},[i,m,l,x,h,c]),S=(t,a,d,B,H)=>e.jsxs("div",{children:[e.jsx("label",{htmlFor:t,className:"block text-sm font-medium text-slate-300 mb-2",children:a}),e.jsx("select",{id:t,value:d,onChange:B,disabled:r,className:"w-full p-2 bg-slate-900 border border-slate-600 rounded-md text-slate-200 focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition-all duration-300",children:H.map(C=>e.jsx("option",{value:C,children:C},C))})]});return e.jsx("div",{className:"container mx-auto py-12 px-4",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("div",{className:"inline-flex items-center justify-center bg-slate-800 p-3 rounded-full mb-4 border border-slate-700",children:e.jsx(R,{className:"w-8 h-8 text-cyan-400"})}),e.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-white",children:"AI Prompt Generator"}),e.jsx("p",{className:"mt-4 text-lg text-slate-400 max-w-3xl mx-auto",children:"Ubah ide sederhana atau gambar Anda menjadi prompt yang sangat detail untuk model AI generatif."})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-xl border border-slate-700 shadow-2xl shadow-slate-900/50",children:[e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"1. Pilih Sumber Anda"}),e.jsx("div",{className:"flex justify-center mb-6",children:e.jsxs("div",{className:"bg-slate-900 p-1 rounded-lg flex gap-1",children:[e.jsx("button",{onClick:()=>n("text"),disabled:r,className:`px-6 py-2 rounded-md text-sm font-semibold transition-colors ${l==="text"?"bg-cyan-500 text-white":"text-slate-300 hover:bg-slate-700"}`,children:"Dari Teks"}),e.jsx("button",{onClick:()=>n("image"),disabled:r,className:`px-6 py-2 rounded-md text-sm font-semibold transition-colors ${l==="image"?"bg-cyan-500 text-white":"text-slate-300 hover:bg-slate-700"}`,children:"Dari Gambar"})]})}),l==="text"?e.jsxs("div",{children:[e.jsx("label",{htmlFor:"concept-input",className:"block text-sm font-medium text-slate-300 mb-2",children:"Jelaskan Konsep Anda"}),e.jsx("textarea",{id:"concept-input",value:i,onChange:t=>w(t.target.value),placeholder:"Contoh: Seekor naga emas terbang di atas pegunungan yang tertutup salju saat matahari terbenam",className:"w-full h-28 p-4 bg-slate-900 border border-slate-600 rounded-md text-slate-200 font-sans focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition-all duration-300 resize-y",disabled:r,"aria-label":"Deskripsi konsep"})]}):e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Unggah Gambar"}),e.jsxs("div",{className:`flex flex-col items-center justify-center p-6 border-2 border-dashed rounded-lg transition-colors ${$?"border-cyan-400 bg-slate-700/50":"border-slate-600"}`,onDragEnter:()=>k(!0),onDragLeave:()=>k(!1),onDragOver:t=>t.preventDefault(),onDrop:t=>{t.preventDefault(),k(!1),M(t.dataTransfer.files)},children:[e.jsx("input",{ref:v,type:"file",accept:"image/*",className:"hidden",onChange:t=>M(t.target.files)}),j?e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:j,alt:"Image preview",className:"max-h-40 rounded-lg"}),e.jsx("button",{onClick:V,className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full h-6 w-6 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity","aria-label":"Remove image",children:"×"})]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-slate-500 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l-1.586-1.586a2 2 0 010-2.828L14 8"})}),e.jsx("p",{className:"text-slate-400 mb-2",children:"Letakkan atau Pilih File"}),e.jsx("button",{onClick:()=>v.current?.click(),className:"bg-cyan-500 text-white font-semibold py-2 px-4 rounded-md hover:bg-cyan-600 transition-colors",children:"Telusuri File"})]})]})]}),e.jsx("h3",{className:"text-xl font-bold text-white mt-6 mb-4",children:"2. Sesuaikan Opsi Anda"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx("div",{className:"md:col-span-1",children:S("styleSelect","Gaya Seni",y,T,P)}),S("aspectRatioSelect","Rasio Aspek Gambar",h,t=>g(t.target.value),["1:1","16:9","9:16","4:3","3:4"]),S("durationSelect","Durasi Video (detik)",c,t=>N(t.target.value),["5","10","15","30","60"])]}),y==="Custom"&&e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{htmlFor:"customStyleInput",className:"block text-sm font-medium text-slate-300 mb-2",children:"Gaya Seni Kustom"}),e.jsx("input",{type:"text",id:"customStyleInput",value:x,onChange:t=>o(t.target.value),disabled:r,className:"w-full p-2 bg-slate-900 border border-slate-600 rounded-md text-slate-200 focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition-all duration-300",placeholder:"misalnya: Psychedelic, Vaporwave, dll."})]})]}),e.jsx("div",{className:"p-6 border-t border-slate-700",children:e.jsx("button",{onClick:E,disabled:r||l==="text"&&!i.trim()||l==="image"&&!m,className:"w-full flex items-center justify-center gap-3 bg-cyan-500 text-white font-semibold py-3 px-6 rounded-md hover:bg-cyan-600 transition-colors duration-300 disabled:bg-slate-600 disabled:cursor-not-allowed shadow-lg shadow-cyan-500/20 disabled:shadow-none text-lg",children:r?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("span",{children:"Menghasilkan..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(R,{className:"w-6 h-6"}),e.jsx("span",{children:"Hasilkan Prompt"})]})})})]}),e.jsxs("div",{className:"mt-8",children:[I&&e.jsx("div",{role:"alert",className:"bg-red-500/20 border border-red-500 text-red-300 p-4 rounded-md mb-6",children:I}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsx(G,{title:"Prompt Gambar",prompt:L,isLoading:r}),e.jsx(G,{title:"Prompt Video",prompt:W,isLoading:r,isMarkdown:!0})]})]})]})})};export{Q as default};
