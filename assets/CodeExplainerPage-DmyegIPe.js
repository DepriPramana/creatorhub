import{j as e,r as n}from"./index-BQuNFLeR.js";import{e as p}from"./geminiService-Ym5kw0UC.js";import{S as u}from"./SparklesIcon-BW6NvVL7.js";const h=({content:a,isLoading:r})=>r&&!a?e.jsxs("div",{className:"space-y-3 animate-pulse",children:[e.jsx("div",{className:"h-4 bg-slate-700 rounded w-3/4"}),e.jsx("div",{className:"h-4 bg-slate-700 rounded w-1/2"}),e.jsx("div",{className:"h-4 bg-slate-700 rounded w-5/6"})]}):a?e.jsx("div",{className:`prose prose-invert prose-sm sm:prose-base max-w-none 
                   prose-headings:text-cyan-400 prose-strong:text-white 
                   prose-code:bg-slate-700 prose-code:text-slate-300 prose-code:rounded-md prose-code:px-1.5 prose-code:py-1
                   prose-a:text-cyan-400 hover:prose-a:text-cyan-500`,children:e.jsx("pre",{className:"bg-slate-900/70 p-4 rounded-md whitespace-pre-wrap break-words",children:e.jsx("code",{children:a})})}):e.jsx("p",{className:"text-slate-500 italic",children:"Penjelasan akan muncul di sini setelah Anda menjalankan alat."}),f=()=>{const[a,r]=n.useState(`function fibonacci(n) {
  if (n <= 1) return n;
  return fibonacci(n - 1) + fibonacci(n - 2);
}`),[m,d]=n.useState(""),[t,i]=n.useState(!1),[c,l]=n.useState(null),x=n.useCallback(async()=>{if(!a.trim()){l("Silakan masukkan kode untuk dijelaskan.");return}i(!0),l(null),d("");try{await p(a,s=>{d(o=>o+s)})}catch(s){const o=s instanceof Error?s.message:"Terjadi kesalahan yang tidak diketahui.";l(o),console.error(s)}finally{i(!1)}},[a]);return e.jsx("div",{className:"container mx-auto py-12 px-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto bg-slate-800/50 rounded-xl border border-slate-700 shadow-2xl shadow-slate-900/50 overflow-hidden",children:[e.jsxs("div",{className:"p-6",children:[e.jsxs("h3",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[e.jsx(u,{className:"w-8 h-8 text-cyan-400"}),e.jsx("span",{children:"AI Code Explainer"})]}),e.jsx("p",{className:"text-slate-400 mt-2",children:"Tempelkan potongan kode di bawah ini dan biarkan asisten AI kami menguraikannya untuk Anda dalam bahasa sederhana."})]}),e.jsxs("div",{className:"p-6 border-y border-slate-700",children:[e.jsx("label",{htmlFor:"codeInput",className:"block text-sm font-medium text-slate-300 mb-2",children:"Potongan Kode Anda"}),e.jsx("textarea",{id:"codeInput",value:a,onChange:s=>r(s.target.value),placeholder:"Tempelkan kode Anda di sini...",className:"w-full h-48 p-4 bg-slate-900 border border-slate-600 rounded-md text-slate-200 font-mono text-sm focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition-all duration-300 resize-y",disabled:t,"aria-label":"Input kode untuk penjelasan"}),e.jsx("button",{onClick:x,disabled:t,className:"mt-4 w-full flex items-center justify-center gap-2 bg-cyan-500 text-white font-semibold py-3 px-6 rounded-md hover:bg-cyan-600 transition-colors duration-300 disabled:bg-slate-600 disabled:cursor-not-allowed shadow-lg shadow-cyan-500/20 disabled:shadow-none",children:t?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("span",{children:"Menjelaskan..."})]}):"Jelaskan Kode"})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"Penjelasan"}),c&&e.jsx("div",{role:"alert",className:"bg-red-500/20 border border-red-500 text-red-300 p-4 rounded-md mb-4",children:c}),e.jsx(h,{content:m,isLoading:t})]})]})})};export{f as default};
